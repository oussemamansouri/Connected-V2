<main id="main" class="main">
  <div class="pagetitle">
    <h1>Ajouter un Apprenant</h1>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a routerLink="/admin">Admin</a></li>
        <li class="breadcrumb-item">Apprenant</li>
        <li class="breadcrumb-item active">Ajouter un apprenant</li>
      </ol>
    </nav>
  </div>
  <section class="section">
    <form class="row g-3 needs-validation" #f="ngForm" (ngSubmit)="addclient(f)">
      <div class="col-md-3">
        <label for="validationCustom01" class="form-label">Nom</label>
        <input type="text" class="form-control" id="validationCustom01" name="firstname" #firstname="ngModel" ngModel
          required minlength="2" maxlength="15" pattern="[a-zA-Z]{2,15}"
          [ngClass]="{'is-invalid': firstname.invalid && firstname.touched, 'is-valid': firstname.valid && firstname.touched}">
        <div class="invalid-feedback" *ngIf="firstname.touched && firstname.errors">
          <div *ngIf="firstname.errors?.['required']">Votre nom est requis!</div>
          <div *ngIf="firstname.errors?.['minlength']">Votre nom doit compter au moins 2 caractères !</div>
          <div *ngIf="firstname.errors?.['maxlength']">Votre nom ne doit pas dépasser 15 caractères !</div>
          <div *ngIf="firstname.errors?.['pattern']">Votre nom ne doit contenir que des caractères alphabétiques !</div>
        </div>
      </div>
      <div class="col-md-3">
        <label for="validationCustom01" class="form-label">Prenom</label>
        <input type="text" class="form-control" id="validationCustom01" required minlength="2" maxlength="15"
          pattern="[a-zA-Z]{2,15}"
          [ngClass]="{'is-invalid': lastname.invalid && lastname.touched, 'is-valid': lastname.valid && lastname.touched}"
          name="lastname" #lastname="ngModel" ngModel>
        <div class="invalid-feedback" *ngIf="lastname.touched && lastname.errors">
          <div *ngIf="lastname.errors?.['required']">Votre prenom est requis!</div>
          <div *ngIf="lastname.errors?.['minlength']">Votre prenom doit compter au moins 2 caractères !</div>
          <div *ngIf="lastname.errors?.['maxlength']">Votre prenom ne doit pas dépasser 15 caractères !</div>
          <div *ngIf="lastname.errors?.['pattern']">Votre prenom ne doit contenir que des caractères alphabétiques !
          </div>

        </div>
      </div>

      <div class="col-md-3">
        <label for="validationCustom02" class="form-label">Téléphone</label>
        <input type="tel" class="form-control" id="validationCustom02"
          [ngClass]="{'is-invalid': tel.invalid && tel.touched, 'is-valid': tel.valid && tel.touched}" required
          name="tel" #tel="ngModel" ngModel>
        <div class="invalid-feedback" *ngIf="tel.touched &&tel.errors">
          <div *ngIf="tel.errors?.['required']">Veuillez entrer votre numéro de téléphone!</div>
          <div *ngIf="tel.errors?.['integer']">Veuillez entrer un nombre entier valide!</div>
          <div *ngIf="tel.errors?.['minlength']">le Téléphone doit compter au moins 8 chiffres !</div>
        </div>
      </div>

      <div class="col-md-3">
        <label for="yourDOB" class="form-label">Date de naissance</label>
        <input type="date" name="dob" #dob="ngModel" ngModel class="form-control" id="yourDOB" required
          [max]="maxDate()"
          [ngClass]="{'is-invalid': dob.invalid && dob.touched, 'is-valid': dob.valid && dob.touched}">
        <div class="invalid-feedback" *ngIf="dob.touched && dob.errors">
          <div *ngIf="dob.errors?.['required']">Votre date de naissance est requise!</div>
          <div *ngIf="dob.errors?.['futureDate']">Votre date de naissance ne peut pas être dans le futur!</div>
        </div>

      </div>

      <div class="col-md-4">
        <label for="validationCustomUsername" class="form-label">Email</label>
        <div class="input-group has-validation">
          <span class="input-group-text" id="inputGroupPrepend">@</span>
          <input type="email" class="form-control" id="validationCustomUsername" placeholder="email@example.com"
            aria-describedby="inputGroupPrepend"
            [ngClass]="{'is-invalid': email.invalid && email.touched, 'is-valid': email.valid && email.touched}"
            required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" placeholder="nom@domaine.com" name="email"
            #email="ngModel" ngModel>
          <div class="invalid-feedback" *ngIf="email.touched && email.invalid">
            <div *ngIf="email.errors?.['required']">Veuillez entrer votre adresse email!</div>
            <div *ngIf="email.errors?.['email']">Veuillez entrer une adresse email valide!</div>
            <div *ngIf="email.errors?.['pattern']">L'adresse email doit être sous la forme nom@domaine.com!</div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <label for="validationCustom03" class="form-label">Adreess</label>
        <input type="text" class="form-control" id="validationCustom03" minlength="4"
          [ngClass]="{'is-invalid': address.invalid && address.touched, 'is-valid': address.valid && address.touched}"
          required name="address" #address="ngModel" ngModel>
        <div class="invalid-feedback" *ngIf="address.touched && address.errors">
          <div *ngIf="address.errors?.['minlength']">Votre adresse doit compter au moins 4 caractères !</div>
          <div *ngIf="address.errors?.['required']">Veuillez entrer votre adresse!</div>
        </div>
      </div>

      <div class="col-md-4">
        <label for="formFile" class="form-label">Mot de Passe</label>
        <input class="form-control" type="password" id="formFile" name="password" #password="ngModel" ngModel
          [ngClass]="{'is-invalid': password.invalid && password.touched, 'is-valid': password.valid && password.touched}"
          required minlength="8" pattern="^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$">
        <div class="invalid-feedback" *ngIf="password.touched && password.errors">
          <div *ngIf="password.errors?.['required']">Veuillez entrer votre mot de passe !</div>
          <div *ngIf="password.errors?.['minlength']">Votre mot de passe doit compter au moins 8 caractères !</div>
          <div *ngIf="password.errors?.['pattern']">Votre mot de passe doit contenir au moins une lettre, un chiffre et
            un caractère spécial !</div>

        </div>
      </div>
      <span class="align-text-bottom" style="color: rgb(56, 68, 201);">Les champs suivants ne sont pas obligatoires
        :</span>

      <div class="col-md-4">
        <label for="validationCustom03" class="form-label">Portfolio</label>
        <input type="text" class="form-control" id="validationCustom03" name="portfolio" #portfolio="ngModel" ngModel>
      </div>
      <div class="col-md-4">
        <label for="validationCustom03" class="form-label">LinkedIn</label>
        <input type="text" class="form-control" id="validationCustom03" name="linkedin" #linkedin="ngModel" ngModel>
      </div>
      <div class="col-md-4">
        <label for="validationCustom03" class="form-label">Instagram</label>
        <input type="text" class="form-control" id="validationCustom03" name="instagram" #instagram="ngModel" ngModel>
      </div>
      <div class="col-md-4">
        <label for="validationCustom03" class="form-label">Facebook</label>
        <input type="text" class="form-control" id="validationCustom03" name="facebook" #facebook="ngModel" ngModel>
      </div>
      <div class="col-md-4">
        <label for="validationCustom03" class="form-label">Twitter</label>
        <input type="text" class="form-control" id="validationCustom03" name="twitter" #twitter="ngModel" ngModel>
      </div>
      <div class="col-md-4">
        <label for="formFile" class="form-label">Choisir une Image</label>
        <input class="form-control" type="file" id="formFile" accept="public/images/*" (change)="selectImage($event)">
      </div>
      <div class="col-md-4">
        <label for="formFile" class="form-label">Choisir une CV</label>
        <input class="form-control" type="file" id="formFile" accept="public/images/*" (change)="selectCv($event)">
      </div>
      <div class="col-12">
        <div class="col-1">
          <button class="btn btn-primary" [disabled]="f.invalid" type="submit">Ajouter</button>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="alert alert-danger" *ngIf="errmessage">{{errmessage}}</div>
      </div>
    </form>
  </section>
</main>