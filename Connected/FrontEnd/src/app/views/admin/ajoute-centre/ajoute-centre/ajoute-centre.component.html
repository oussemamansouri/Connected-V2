<main id="main" class="main">
  <div class="pagetitle">
     <h1>Ajoute un Centre</h1>
     <nav>
        <ol class="breadcrumb">
           <li class="breadcrumb-item"><a routerLink="/">Admin</a></li>
           <li class="breadcrumb-item">Centre de formation</li>
           <li class="breadcrumb-item active">Ajouter un Centre</li>
        </ol>
     </nav>
  </div>
  <section class="section">


    <form class="row g-3 needs-validation" novalidate #f="ngForm" (submit)="addcentre(f)" >
      <div class="col-md-3">
        <label for="validationCustom01" class="form-label">Nom de la Centre</label>
        <input type="text" class="form-control" id="validationCustom01"  required minlength="2" maxlength="20"   pattern="[a-zA-Z\s]{2,20}" [ngClass]="{'is-invalid': name.invalid && name.touched, 'is-valid': name.valid && name.touched}"  name="name" #name="ngModel" ngModel>
        <div class="invalid-feedback" *ngIf="name.touched && name.errors">
          <div *ngIf="name.errors?.['required']">le nom est requis!</div>
          <div *ngIf="name.errors?.['minlength']">le nom doit compter au moins 2 caractères !</div>
          <div *ngIf="name.errors?.['maxlength']">le nom ne doit pas dépasser 20 caractères !</div>
          <div *ngIf="name.errors?.['pattern']">le nom ne doit contenir que des caractères alphabétiques !</div>

      </div>
      </div>
      <div class="col-md-3">
        <label for="validationCustom02" class="form-label">Téléphone</label>
        <input type="number" class="form-control" id="validationCustom02"   [ngClass]="{'is-invalid': tel.invalid && tel.touched, 'is-valid': tel.valid && tel.touched}" required minlength="5"  pattern="[0-9]{5,15}" maxlength="15"  name="tel" #tel="ngModel" ngModel>
        <div class="invalid-feedback" *ngIf="tel.touched &&tel.errors">
          <div *ngIf="tel.errors?.['required']">Veuillez entrer votre numéro de téléphone!</div>
          <div *ngIf="tel.errors?.['pattern']">Veuillez entrer un nombre entier valide!</div>
          <div *ngIf="tel.errors?.['minlength']">le Téléphone du Centre doit compter au moins 5 chiffres !</div>
        </div>
      </div>
      <div class="col-md-4">
        <label for="validationCustomUsername" class="form-label">Email</label>
        <div class="input-group has-validation">
          <span class="input-group-text" id="inputGroupPrepend">@</span>
          <input type="email" class="form-control" id="validationCustomUsername" placeholder="email@example.com" aria-describedby="inputGroupPrepend" [ngClass]="{'is-invalid': email.invalid && email.touched, 'is-valid': email.valid && email.touched}"
          required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" placeholder="nom@domaine.com" name="email" #email="ngModel" ngModel>
          <div class="invalid-feedback" *ngIf="email.touched && email.invalid">
            <div *ngIf="email.errors?.['required']">Veuillez entrer votre adresse email!</div>
            <div *ngIf="email.errors?.['email']">Veuillez entrer une adresse email valide!</div>
            <div *ngIf="email.errors?.['pattern']">L'adresse email doit être sous la forme nom@domaine.com!</div>
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <label for="validationCustom03" class="form-label">Localisation</label>
        <input type="text" class="form-control" id="validationCustom03"  [ngClass]="{'is-invalid': localisation.invalid && localisation.touched, 'is-valid': localisation.valid && localisation.touched}" minlength="4" required  name="localisation" #localisation="ngModel" ngModel>
        <div class="invalid-feedback" *ngIf="localisation.touched && localisation.errors">
          <div *ngIf="localisation.errors?.['minlength']">Votre adresse doit compter au moins 4 caractères !</div>
          <div *ngIf="localisation.errors?.['required']">Veuillez entrer votre adresse!</div>
        </div>
      </div>

      <div class="col-md-3">
        <label for="validationCustom01" class="form-label">Nom de manager</label>
        <input type="text" class="form-control" id="validationCustom01"  required minlength="2" maxlength="15" pattern="[a-zA-Z]{2,15}" [ngClass]="{'is-invalid': nom_manager.invalid && nom_manager.touched, 'is-valid': nom_manager.valid && nom_manager.touched}" name="nom_manager" #nom_manager="ngModel" ngModel>
        <div class="invalid-feedback" *ngIf="nom_manager.touched && nom_manager.errors">
          <div *ngIf="nom_manager.errors?.['required']">le nom du manager est requis!</div>
          <div *ngIf="nom_manager.errors?.['minlength']">le nom du manager doit compter au moins 2 caractères !</div>
          <div *ngIf="nom_manager.errors?.['maxlength']">le nom du manager ne doit pas dépasser 20 caractères !</div>
          <div *ngIf="nom_manager.errors?.['pattern']">le nom du manager ne doit contenir que des caractères alphabétiques !</div>

      </div>
      </div>
      <div class="col-md-3">
        <label for="validationCustom01" class="form-label">Prenom de manager</label>
        <input type="text" class="form-control" id="validationCustom01"  required minlength="2" maxlength="15" pattern="[a-zA-Z]{2,15}" [ngClass]="{'is-invalid': prenom_manager.invalid && name.touched, 'is-valid': prenom_manager.valid && prenom_manager.touched}"  name="prenom_manager" #prenom_manager="ngModel" ngModel>
        <div class="invalid-feedback" *ngIf="prenom_manager.touched && prenom_manager.errors">
          <div *ngIf="prenom_manager.errors?.['required']">le prenom du manager est requis!</div>
          <div *ngIf="prenom_manager.errors?.['minlength']">le prenom du manager doit compter au moins 2 caractères !</div>
          <div *ngIf="prenom_manager.errors?.['maxlength']">le prenom du manager ne doit pas dépasser 20 caractères !</div>
          <div *ngIf="prenom_manager.errors?.['pattern']">le prenom du manager ne doit contenir que des caractères alphabétiques !</div>

      </div>
      </div>
      <div class="col-md-3">
        <label for="validationCustom01" class="form-label">Téléphone de manager</label>
        <input type="number" class="form-control" id="validationCustom01"    [ngClass]="{'is-invalid': tel_manager.invalid && tel_manager.touched, 'is-valid': tel_manager.valid && tel_manager.touched}"  required minlength="5" pattern="[0-9]{5,15}" maxlength="15" name="tel_manager" #tel_manager="ngModel" ngModel>
        <div class="invalid-feedback" *ngIf="tel_manager.touched &&tel_manager.errors">
          <div *ngIf="tel_manager.errors?.['required']">Veuillez entrer votre numéro de téléphone!</div>
          <div *ngIf="tel_manager.errors?.['minlength']">le Téléphone du manager doit compter au moins 5 chiffres !</div>
          <div *ngIf="tel_manager.errors?.['pattern']">Veuillez entrer un nombre entier valide!</div>
        </div>
      </div>

      <div class="col-md-3">
        <label for="validationCustom03" class="form-label">Numéro fiscal de référence </label>
        <input type="text" class="form-control" id="validationCustom03"  name="fiscale" #fiscale="ngModel" ngModel    [ngClass]="{'is-invalid': fiscale.invalid && fiscale.touched, 'is-valid': fiscale.valid && fiscale.touched}"
        required pattern="[0-9]{8}" required >
          <div class="invalid-feedback" *ngIf="fiscale.touched && fiscale.errors">
                          <div *ngIf="fiscale.errors?.['required']">Veuillez entrer votre NIF!</div>
                          <div *ngIf="fiscale.errors?.['pattern']">Le NIF doit être composé de 8 chiffres!</div>
                        </div>
      </div>

      <div class="col-md-3">
        <label for="validationCustom03" class="form-label">Services </label>
        <input type="text" class="form-control" id="validationCustom03"  name="services" #services="ngModel" ngModel            [ngClass]="{'is-invalid': services.invalid && services.touched, 'is-valid': services.valid && services.touched}" required>
        <div class="invalid-feedback" *ngIf="services.touched && services.errors">
          <div *ngIf="services.errors?.['required']">Veuillez entrer votre services!</div>
        </div>
      </div>

      <div class="col-md-3">
        <label for="formFile" class="form-label">Mot de Passe</label>
        <input class="form-control" type="password" id="formFile" [ngClass]="{'is-invalid': password.invalid && password.touched, 'is-valid': password.valid && password.touched}" required  minlength="8"  pattern="^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$" name="password" #password="ngModel" ngModel>
        <div class="invalid-feedback" *ngIf="password.touched && password.errors">
          <div *ngIf="password.errors?.['required']">Veuillez entrer votre mot de passe !</div>
          <div *ngIf="password.errors?.['minlength']">Votre mot de passe doit compter au moins 8 caractères !</div>
          <div *ngIf="password.errors?.['pattern']">Votre mot de passe doit contenir au moins une lettre, un chiffre et un caractère spécial !</div>
        </div>
      </div>

      <span class="align-text-bottom" style="color: rgb(56, 68, 201);">Les champs suivants ne sont pas obligatoires :</span>
      <div class="col-md-3">
        <label for="validationCustom03" class="form-label">license </label>
        <input type="text" class="form-control" id="validationCustom03"  name="license" #license="ngModel" ngModel>

      </div>

      <div class="col-md-3">
        <label for="validationCustom03" class="form-label">Site Web</label>
        <input type="text" class="form-control" id="validationCustom03"  name="site" #site="ngModel" ngModel>

      </div>
      <div class="col-md-3">
        <label for="validationCustom03" class="form-label">LinkedIn</label>
        <input type="text" class="form-control" id="validationCustom03"  name="linkedin" #linkedin="ngModel" ngModel>

      </div>
      <div class="col-md-3">
        <label for="validationCustom03" class="form-label">Instagram</label>
        <input type="text" class="form-control" id="validationCustom03"  name="instagram" #instagram="ngModel" ngModel>

      </div>
      <div class="col-md-3">
        <label for="validationCustom03" class="form-label">Facebook</label>
        <input type="text" class="form-control" id="validationCustom03"  name="facebook" #facebook="ngModel" ngModel>

      </div>
      <div class="col-md-3">
        <label for="validationCustom03" class="form-label">Twitter</label>
        <input type="text" class="form-control" id="validationCustom03"  name="twitter" #twitter="ngModel" ngModel>

      </div>
      <div class="col-md-3">
        <label for="formFile" class="form-label">Choisir une Image</label>
        <input class="form-control" type="file" id="formFile" accept="public/images/*" (change)="selectImage($event)" >
      </div>





      <!-- <div class="col-12">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
          <label class="form-check-label" for="invalidCheck">
            Agree to terms and conditions
          </label>
          <div class="invalid-feedback">
            You must agree before submitting.
          </div>
        </div>
      </div> -->
      <div class="col-12">
      <div class="row ">
      <div class="col-3">
        <button class="btn btn-primary" [disabled]="f.invalid" type="submit">Ajouter</button>
      </div>
    </div>
  </div>
<div class="col-sm-6" *ngIf="errmessage">
<div class="alert alert-danger">{{errmessage}}</div>
</div>

    </form>


  </section>
</main>
